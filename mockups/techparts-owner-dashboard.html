<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechParts â€” Owner Dashboard</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        .material-symbols-outlined { font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24; vertical-align: middle; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto',sans-serif; background:#f8f9fa; color:#1d1d1f; }
        .header { background:#fff; padding:20px 40px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #e5e7eb; box-shadow:0 2px 8px rgba(0,0,0,0.08); }
        .header-left h1 { font-size:22px; font-weight:600; margin-bottom:4px; }
        .header-left p { font-size:13px; opacity:0.9; }
        .nav { display:flex; gap:12px; flex-wrap:wrap; }
        .nav a { text-decoration:none; color:#374151; font-weight:600; font-size:13px; padding:8px 10px; border-radius:8px; position:relative; }
        .nav a:hover { background:#f3f4f6; }
        .nav a.active { color:#3b82f6; }
        .nav a.active::after { content:''; position:absolute; bottom:0; left:10px; right:10px; height:2px; background:#3b82f6; }
        .container { max-width:1800px; margin:0 auto; padding:24px; display:flex; flex-direction:column; gap:20px; }
        
        /* Hero Metrics */
        .hero-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:20px; margin-bottom:8px; }
        .hero-card { background:linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color:#fff; border-radius:16px; padding:28px; box-shadow:0 4px 16px rgba(59,130,246,0.3); position:relative; overflow:hidden; }
        .hero-card::before { content:''; position:absolute; top:-50%; right:-50%; width:200%; height:200%; background:radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); }
        .hero-card.oms { background:linear-gradient(135deg, #14b8a6 0%, #0d9488 100%); box-shadow:0 4px 16px rgba(20,184,166,0.3); }
        .hero-card.prod { background:linear-gradient(135deg, #f59e0b 0%, #d97706 100%); box-shadow:0 4px 16px rgba(245,158,11,0.3); }
        .hero-label { font-size:12px; opacity:0.9; margin-bottom:8px; font-weight:600; text-transform:uppercase; letter-spacing:1px; }
        .hero-value { font-size:48px; font-weight:800; margin-bottom:4px; }
        .hero-trend { font-size:13px; opacity:0.9; }
        .hero-icon { position:absolute; top:24px; right:24px; font-size:48px; opacity:0.2; }
        
        /* OMS Hub Section */
        .oms-hub { background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:24px; box-shadow:0 2px 8px rgba(0,0,0,0.05); }
        .section-title { font-size:18px; font-weight:700; margin-bottom:20px; display:flex; align-items:center; gap:10px; color:#111827; }
        .oms-grid { display:grid; grid-template-columns:2fr 1fr 1fr; gap:20px; }
        .pipeline-view { display:flex; align-items:center; justify-content:space-around; padding:20px; background:#f9fafb; border-radius:12px; }
        .pipeline-stage { text-align:center; flex:1; }
        .pipeline-bar { height:120px; width:40px; margin:12px auto; border-radius:20px; background:#e5e7eb; position:relative; overflow:hidden; }
        .pipeline-fill { position:absolute; bottom:0; width:100%; border-radius:20px; transition:height 0.6s ease; }
        .pipeline-fill.quoted { background:#e5e7eb; }
        .pipeline-fill.confirmed { background:#3b82f6; }
        .pipeline-fill.progress { background:#f59e0b; }
        .pipeline-fill.shipped { background:#8b5cf6; }
        .pipeline-fill.delivered { background:#10b981; }
        .pipeline-label { font-size:11px; color:#6b7280; margin-top:8px; font-weight:600; }
        .pipeline-count { font-size:20px; font-weight:700; color:#111827; margin-top:4px; }
        
        .conversion-card, .delivery-card { background:#f9fafb; border:1px solid #e5e7eb; border-radius:12px; padding:20px; }
        .metric-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
        .metric-label { font-size:13px; color:#6b7280; }
        .metric-value { font-size:24px; font-weight:700; }
        .metric-value.good { color:#10b981; }
        .metric-value.warning { color:#f59e0b; }
        .sparkline { width:100%; height:40px; background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 40'%3E%3Cpolyline fill='none' stroke='%2314b8a6' stroke-width='2' points='10,30 20,28 30,25 40,22 50,20 60,18 70,20 80,22 90,25'/%3E%3C/svg%3E") no-repeat; background-size:contain; margin-top:8px; }
        
        /* Metrics Grid */
        .metrics-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; }
        .metric-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.2s; cursor:pointer; }
        .metric-card:hover { box-shadow:0 4px 12px rgba(0,0,0,0.1); transform:translateY(-2px); }
        .metric-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
        .metric-title { font-size:13px; font-weight:600; color:#374151; }
        .metric-badge { padding:4px 10px; border-radius:12px; font-size:11px; font-weight:700; }
        .badge-oms { background:#d1fae5; color:#065f46; }
        .badge-mes { background:#fed7aa; color:#7c2d12; }
        .badge-qms { background:#dcfce7; color:#14532d; }
        .metric-display { display:flex; align-items:baseline; gap:8px; }
        .metric-number { font-size:28px; font-weight:700; color:#111827; }
        .metric-change { font-size:13px; font-weight:600; }
        .change-up { color:#10b981; }
        .change-down { color:#ef4444; }
        .metric-target { font-size:11px; color:#9ca3af; margin-top:8px; }
        .mini-sparkline { height:20px; background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20'%3E%3Cpolyline fill='none' stroke='%233b82f6' stroke-width='1.5' points='5,15 15,12 25,10 35,8 45,7 55,6 65,7 75,8 85,9 95,10'/%3E%3C/svg%3E") no-repeat; background-size:contain; opacity:0.5; margin-top:4px; }
        
        /* Integration Status Card */
        .integration-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px; box-shadow:0 1px 3px rgba(0,0,0,0.05); }
        .integration-item { display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-bottom:1px solid #f3f4f6; }
        .integration-item:last-child { border-bottom:none; }
        .integration-label { display:flex; align-items:center; gap:8px; font-size:13px; color:#374151; }
        .integration-status { padding:4px 10px; border-radius:12px; font-size:11px; font-weight:700; }
        .status-connected { background:#d1fae5; color:#065f46; }
        .status-active { background:#dbeafe; color:#1e40af; }
        
        /* System Grid */
        .system-grid { display:grid; grid-template-columns:repeat(4, 1fr); gap:12px; }
        .system-card { background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:16px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.3s; position:relative; overflow:hidden; }
        .system-card.active { animation:glow 2s ease-in-out; box-shadow:0 0 12px rgba(59,130,246,0.3); }
        .system-header { display:flex; align-items:center; gap:10px; margin-bottom:12px; }
        .status-dot { width:10px; height:10px; border-radius:50%; animation:pulse 2s infinite; }
        .status-dot.green { background:#10b981; }
        .status-dot.yellow { background:#f59e0b; }
        .status-dot.red { background:#ef4444; }
        .activity-count { font-size:18px; font-weight:700; color:#3b82f6; }
        .activity-label { font-size:11px; color:#6b7280; }
        .last-action { font-size:11px; color:#9ca3af; margin-top:8px; }
        
        /* Activity Feed */
        .main-grid { display:grid; grid-template-columns:2fr 1fr; gap:24px; }
        .activity-feed { background:#fff; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 1px 3px rgba(0,0,0,0.05); }
        .feed-header { padding:16px 20px; border-bottom:1px solid #e5e7eb; font-weight:600; display:flex; align-items:center; gap:8px; }
        .feed-content { padding:16px; max-height:500px; overflow-y:auto; }
        .feed-item { padding:12px; margin-bottom:8px; border-left:3px solid #e5e7eb; border-radius:4px; animation:fadeIn 0.5s; background:#f9fafb; }
        .feed-item.oms { border-left-color:#14b8a6; }
        .feed-item.crm { border-left-color:#8b5cf6; }
        .feed-item.qms { border-left-color:#10b981; }
        .feed-item.removing { animation:slideUp 0.5s forwards; }
        .feed-time { font-size:11px; color:#9ca3af; margin-top:4px; }
        
        /* Progress Section */
        .progress-section { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); }
        .progress-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:20px; }
        .progress-item { }
        .progress-label { font-size:13px; color:#374151; margin-bottom:12px; display:flex; justify-content:space-between; font-weight:600; align-items:center; }
        .progress-label span { font-size:18px; font-weight:700; color:#3b82f6; }
        .progress-bar { height:16px; background:#e5e7eb; border-radius:8px; overflow:hidden; position:relative; }
        .progress-fill { height:100%; background:#3b82f6; transition:width 0.8s ease-out; border-radius:8px; position:relative; }
        .progress-fill::after { content:''; position:absolute; top:0; left:0; right:0; bottom:0; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); animation:shimmer 2s infinite; }
        
        /* Footer */
        .footer { max-width:1800px; margin:16px auto 32px; padding:0 24px; display:flex; justify-content:space-between; color:#6b7280; font-size:12px; flex-wrap:wrap; gap:12px; }
        .footer .links { display:flex; flex-wrap:wrap; gap:8px; }
        .footer .links a { color:#6b7280; text-decoration:none; }
        
        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideUp {
            from { opacity: 1; transform: translateY(0); max-height: 100px; }
            to { opacity: 0; transform: translateY(-10px); max-height: 0; margin: 0; padding: 0; }
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
            50% { box-shadow: 0 0 12px rgba(59,130,246,0.3); }
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .feed-content::-webkit-scrollbar { width: 6px; }
        .feed-content::-webkit-scrollbar-track { background: #f1f1f1; }
        .feed-content::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .feed-content::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* Financial Efficiency Metrics */
        .financial-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:16px; margin-bottom:8px; }
        .financial-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px; box-shadow:0 1px 3px rgba(0,0,0,0.05); }
        .financial-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
        .financial-title { font-size:13px; font-weight:600; color:#374151; }
        .financial-badge { padding:4px 10px; border-radius:12px; font-size:11px; font-weight:700; background:#e0e7ff; color:#3730a3; }
        .financial-display { display:flex; align-items:baseline; gap:8px; }
        .financial-number { font-size:32px; font-weight:700; color:#111827; }
        .financial-trend { font-size:12px; font-weight:600; margin-top:8px; }
        
        /* AI Insights Card */
        .ai-insights-card { background:linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border:1px solid #f59e0b; border-radius:12px; padding:20px; box-shadow:0 2px 8px rgba(245,158,11,0.15); margin-bottom:24px; }
        .ai-insights-header { display:flex; align-items:center; gap:8px; margin-bottom:12px; }
        .ai-insights-title { font-size:14px; font-weight:700; color:#78350f; }
        .ai-insights-content { font-size:13px; color:#92400e; line-height:1.6; }
        .ai-insights-icon { color:#d97706; }
        
        /* Human Capital Pulse */
        .capital-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px; box-shadow:0 1px 3px rgba(0,0,0,0.05); margin-top:24px; }
        .capital-header { font-weight:600; font-size:14px; margin-bottom:12px; display:flex; align-items:center; gap:8px; }
        .capital-value { font-size:36px; font-weight:700; color:#3b82f6; margin-bottom:4px; }
        .capital-label { font-size:12px; color:#6b7280; }
        
        /* Trend Arrow Indicator */
        .trend-arrow { font-size:14px; margin-left:4px; vertical-align:middle; }
        .trend-up { color:#10b981; }
        .trend-down { color:#ef4444; }
        .trend-neutral { color:#6b7280; }
        
        /* Badge additions */
        .badge-financial { background:#e0e7ff; color:#3730a3; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>TechParts Manufacturing</h1>
            <p>Owner Dashboard â€” Real-time operational intelligence â€¢ From lead to cash</p>
        </div>
        <nav class="nav">
            <a href="./techparts-landing.html">Landing</a>
            <a href="./techparts-owner-dashboard.html" class="active">Dashboard</a>
            <a href="./techparts-crm.html">CRM</a>
            <a href="./techparts-erp.html">ERP</a>
            <a href="./techparts-oms.html">OMS</a>
            <a href="./techparts-qms.html">QMS</a>
            <a href="./techparts-mes.html">MES</a>
            <a href="./techparts-wms.html">WMS</a>
            <a href="./techparts-automation.html">Automation</a>
        </nav>
    </div>

    <div class="container">
        <!-- Hero Metrics -->
        <div class="hero-grid">
            <div class="hero-card oms">
                <div class="hero-icon"><span class="material-symbols-outlined">shopping_cart</span></div>
                <div class="hero-label">Order Fulfillment Rate</div>
                <div class="hero-value" id="hero-fulfillment">96.2%</div>
                <div class="hero-trend"><span class="material-symbols-outlined" style="font-size:16px; vertical-align:middle;">trending_up</span> +2.4% vs last week</div>
            </div>
            <div class="hero-card">
                <div class="hero-icon"><span class="material-symbols-outlined">attach_money</span></div>
                <div class="hero-label">Revenue Today</div>
                <div class="hero-value" id="hero-revenue">$52,840</div>
                <div class="hero-trend"><span class="material-symbols-outlined" style="font-size:16px; vertical-align:middle;">trending_up</span> 18% above target</div>
            </div>
            <div class="hero-card prod">
                <div class="hero-icon"><span class="material-symbols-outlined">precision_manufacturing</span></div>
                <div class="hero-label">Production OEE</div>
                <div class="hero-value" id="hero-oee">87.3%</div>
                <div class="hero-trend"><span class="material-symbols-outlined" style="font-size:16px; vertical-align:middle;">trending_up</span> Avail: 94% â€¢ Perf: 92% â€¢ Qual: 96%</div>
            </div>
        </div>

        <!-- Financial Efficiency Metrics -->
        <div>
            <div class="section-title">
                <span class="material-symbols-outlined" style="color:#6366f1;">account_balance</span>
                Financial Efficiency
            </div>
            <div class="financial-grid">
                <div class="financial-card">
                    <div class="financial-header">
                        <div class="financial-title">Gross Margin %</div>
                        <span class="financial-badge badge-financial">FIN</span>
                    </div>
                    <div class="financial-display">
                        <span class="financial-number" id="metric-gross-margin">34.2%</span>
                        <span class="metric-change change-up"><span class="trend-arrow trend-up">â†‘</span> +0.8%</span>
                    </div>
                    <div class="financial-trend" style="color:#6b7280; font-size:11px;">7-day avg vs previous week</div>
                    <div class="mini-sparkline"></div>
                </div>
                <div class="financial-card">
                    <div class="financial-header">
                        <div class="financial-title">Accounts Receivable Days (DSO)</div>
                        <span class="financial-badge badge-financial">FIN</span>
                    </div>
                    <div class="financial-display">
                        <span class="financial-number" id="metric-dso">28</span>
                        <span class="metric-change change-down"><span class="trend-arrow trend-down">â†“</span> -2 days</span>
                    </div>
                    <div class="financial-trend" style="color:#6b7280; font-size:11px;">Target: <30 days (healthy)</div>
                    <div class="mini-sparkline"></div>
                </div>
            </div>
        </div>

        <!-- Order Management Hub -->
        <div class="oms-hub">
            <div class="section-title">
                <span class="material-symbols-outlined" style="color:#14b8a6;">shopping_cart</span>
                Order Management Hub <span style="font-size:14px; color:#6b7280; font-weight:400;">â€” Quote to Delivery Flow</span>
            </div>
            <div class="oms-grid">
                <div class="pipeline-view">
                    <div class="pipeline-stage">
                        <div class="pipeline-bar">
                            <div class="pipeline-fill quoted" id="pipeline-quoted" style="height:35%"></div>
                        </div>
                        <div class="pipeline-count" id="count-quoted">12</div>
                        <div class="pipeline-label">Quoted</div>
                    </div>
                    <div class="pipeline-stage">
                        <div class="pipeline-bar">
                            <div class="pipeline-fill confirmed" id="pipeline-confirmed" style="height:70%"></div>
                        </div>
                        <div class="pipeline-count" id="count-confirmed">24</div>
                        <div class="pipeline-label">Confirmed</div>
                    </div>
                    <div class="pipeline-stage">
                        <div class="pipeline-bar">
                            <div class="pipeline-fill progress" id="pipeline-progress" style="height:85%"></div>
                        </div>
                        <div class="pipeline-count" id="count-progress">18</div>
                        <div class="pipeline-label">In Progress</div>
                    </div>
                    <div class="pipeline-stage">
                        <div class="pipeline-bar">
                            <div class="pipeline-fill shipped" id="pipeline-shipped" style="height:60%"></div>
                        </div>
                        <div class="pipeline-count" id="count-shipped">15</div>
                        <div class="pipeline-label">Shipped</div>
                    </div>
                    <div class="pipeline-stage">
                        <div class="pipeline-bar">
                            <div class="pipeline-fill delivered" id="pipeline-delivered" style="height:90%"></div>
                        </div>
                        <div class="pipeline-count" id="count-delivered">42</div>
                        <div class="pipeline-label">Delivered</div>
                    </div>
                </div>
                <div class="conversion-card">
                    <div class="metric-label">Quote Conversion Rate</div>
                    <div class="metric-value good" id="conversion-rate">27.3%</div>
                    <div class="sparkline"></div>
                    <div style="font-size:11px; color:#6b7280; margin-top:8px;">
                        <span class="material-symbols-outlined" style="font-size:14px; vertical-align:middle;">check_circle</span> Above 25% target
                    </div>
                </div>
                <div class="delivery-card">
                    <div class="metric-label">Avg Delivery Time</div>
                    <div class="metric-value good" id="avg-delivery">4.2 days</div>
                    <div style="font-size:11px; color:#6b7280; margin-top:8px; display:flex; align-items:center; gap:4px;">
                        <span style="display:inline-block; width:8px; height:8px; background:#10b981; border-radius:50%;"></span> 
                        On track for 5-day target
                    </div>
                    <div class="mini-sparkline" style="margin-top:12px;"></div>
                </div>
            </div>
        </div>

        <!-- Critical Metrics Grid -->
        <div>
            <div class="section-title">
                <span class="material-symbols-outlined">analytics</span>
                Operational Metrics
            </div>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Orders in Pipeline</div>
                        <span class="metric-badge badge-oms">OMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-orders">111</span>
                        <span class="metric-change change-up">+8</span>
                    </div>
                    <div class="metric-target">Value: $487K across 5 stages</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Quote Conversion</div>
                        <span class="metric-badge badge-oms">OMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-conversion">27.3%</span>
                        <span class="metric-change change-up">+1.2%</span>
                    </div>
                    <div class="metric-target">Target: 25% (12 of 44 quotes)</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Production Output</div>
                        <span class="metric-badge badge-mes">MES</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-output">847</span>
                        <span class="metric-change change-up">+12</span>
                    </div>
                    <div class="metric-target">Target: 850 units/day</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Inventory Alerts</div>
                        <span class="metric-badge" style="background:#e0e7ff; color:#3730a3;">WMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-inventory">5</span>
                        <span class="metric-change change-down">-2</span>
                    </div>
                    <div class="metric-target">3 low stock, 2 overstock</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Active Deals</div>
                        <span class="metric-badge" style="background:#f3e8ff; color:#6b21a8;">CRM</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-deals">28</span>
                        <span class="metric-change">â†’</span>
                    </div>
                    <div class="metric-target">Total pipeline: $624K</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Quality Issues</div>
                        <span class="metric-badge badge-qms">QMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-quality">3</span>
                        <span class="metric-change change-down"><span class="trend-arrow trend-down">â†“</span> -5</span>
                    </div>
                    <div class="metric-target">All CAPAs on track</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Fulfillment Velocity</div>
                        <span class="metric-badge badge-oms">OMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-velocity">18h</span>
                        <span class="metric-change change-down">-2h</span>
                    </div>
                    <div class="metric-target">Avg: order to shipment</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Machine Uptime</div>
                        <span class="metric-badge badge-mes">MES</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-uptime">94.1%</span>
                        <span class="metric-change change-up">+0.5%</span>
                    </div>
                    <div class="metric-target">3 machines running</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Delivery Performance</div>
                        <span class="metric-badge badge-oms">OMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-delivery">96.2%</span>
                        <span class="metric-change change-up"><span class="trend-arrow trend-up">â†‘</span> +2.4%</span>
                    </div>
                    <div class="metric-target">On-time delivery rate</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Throughput Rate</div>
                        <span class="metric-badge badge-mes">MES</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-throughput">4.2h</span>
                        <span class="metric-change change-down"><span class="trend-arrow trend-down">â†“</span> -0.3h</span>
                    </div>
                    <div class="metric-target">Avg cycle time per work order</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Capacity Utilization</div>
                        <span class="metric-badge badge-mes">MES</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-capacity">82%</span>
                        <span class="metric-change change-up"><span class="trend-arrow trend-up">â†‘</span> +3%</span>
                    </div>
                    <div class="metric-target">Optimal range: 75-85%</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">First Pass Yield (FPY)</div>
                        <span class="metric-badge badge-qms">QMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-fpy">94.8%</span>
                        <span class="metric-change change-up"><span class="trend-arrow trend-up">â†‘</span> +0.5%</span>
                    </div>
                    <div class="metric-target">Units passing QC first time</div>
                    <div class="mini-sparkline"></div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">Return Rate</div>
                        <span class="metric-badge badge-qms">QMS</span>
                    </div>
                    <div class="metric-display">
                        <span class="metric-number" id="metric-returns">0.8%</span>
                        <span class="metric-change change-down"><span class="trend-arrow trend-down">â†“</span> -0.2%</span>
                    </div>
                    <div class="metric-target">Customer returns & complaints</div>
                </div>
            </div>
        </div>

        <!-- Main Grid: Systems + Activity -->
        <div class="main-grid">
            <div>
                <div class="integration-card" style="margin-bottom:24px;">
                    <div style="font-weight:600; font-size:14px; margin-bottom:12px; display:flex; align-items:center; gap:8px;">
                        <span class="material-symbols-outlined" style="color:#3b82f6;">link</span>
                        Integration Status
                    </div>
                    <div class="integration-item">
                        <div class="integration-label">
                            <span class="material-symbols-outlined" style="font-size:18px; color:#10b981;">account_tree</span>
                            QuickBooks
                        </div>
                        <span class="integration-status status-connected">Connected</span>
                    </div>
                    <div class="integration-item">
                        <div class="integration-label">
                            <span class="material-symbols-outlined" style="font-size:18px; color:#3b82f6;">local_shipping</span>
                            Shipping Carriers
                        </div>
                        <span class="integration-status status-active">Active</span>
                    </div>
                    <div class="integration-item">
                        <div class="integration-label">
                            <span class="material-symbols-outlined" style="font-size:18px; color:#8b5cf6;">phone_iphone</span>
                            Mobile App
                        </div>
                        <span class="integration-status status-connected">Synced</span>
                    </div>
                </div>
                
                <!-- AI Insights Card -->
                <div class="ai-insights-card">
                    <div class="ai-insights-header">
                        <span class="material-symbols-outlined ai-insights-icon">smart_toy</span>
                        <div class="ai-insights-title">AI Insights</div>
                    </div>
                    <div class="ai-insights-content" id="ai-insights-text">
                        Top delay: Supplier X, +2 days lead time on Circuit Board components. Recommendation: Consider alternate supplier.
                    </div>
                    <div style="font-size:11px; color:#92400e; margin-top:8px; opacity:0.8;">Updated 5 min ago</div>
                </div>
                
                <div class="section-title">
                    <span class="material-symbols-outlined">hub</span>
                    System Health
                </div>
                <div class="system-grid" id="systems-container">
                    <!-- Systems will be generated by JavaScript -->
                </div>
            </div>
            
            <div>
                <div class="activity-feed">
                    <div class="feed-header">
                        <span class="material-symbols-outlined">feed</span> Live Activity
                    </div>
                    <div class="feed-content" id="activity-feed"></div>
                </div>
                
                <!-- Human Capital Pulse -->
                <div class="capital-card">
                    <div class="capital-header">
                        <span class="material-symbols-outlined" style="color:#3b82f6;">people</span>
                        Human Capital Pulse
                    </div>
                    <div class="capital-value" id="capital-coverage">94%</div>
                    <div class="capital-label">of planned workforce certified for active jobs today</div>
                    <div style="font-size:11px; color:#6b7280; margin-top:8px;">Skill coverage across all active work orders</div>
                </div>
            </div>
        </div>

        <!-- Progress Toward Goals -->
        <div class="progress-section">
            <div class="section-title">
                <span class="material-symbols-outlined">flag</span>
                Monthly Goals
            </div>
            <div class="progress-grid">
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Revenue Target</span>
                        <span id="progress-revenue-percent">73%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-revenue" style="width:73%"></div>
                    </div>
                </div>
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Order Volume</span>
                        <span id="progress-orders-percent">68%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-orders" style="width:68%"></div>
                    </div>
                </div>
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Quality Pass Rate</span>
                        <span id="progress-quality-percent">94%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-quality" style="width:94%"></div>
                    </div>
                </div>
                <div class="progress-item">
                    <div class="progress-label">
                        <span>On-Time Delivery</span>
                        <span id="progress-delivery-percent">91%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-delivery" style="width:91%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="links">
            <a href="./techparts-landing.html">Landing</a>
            <a href="./techparts-owner-dashboard.html">Dashboard</a>
            <a href="./techparts-crm.html">CRM</a>
            <a href="./techparts-erp.html">ERP</a>
            <a href="./techparts-oms.html">OMS</a>
            <a href="./techparts-qms.html">QMS</a>
            <a href="./techparts-mes.html">MES</a>
            <a href="./techparts-wms.html">WMS</a>
            <a href="./techparts-automation.html">Automation</a>
        </div>
        <div>Â© TechParts (demo) â€¢ MVP Mockups</div>
    </div>

    <script>
        // Data pools
        const customers = ['Acme Corp', 'Bolt Industries', 'Crane Manufacturing', 'Delta Products', 'Echo Systems', 'Falcon Components', 'Gamma Industries', 'Helix Corp', 'Ionic Parts', 'Jupiter Systems', 'Kappa Manufacturing', 'Lambda Industries', 'Metro Corp', 'Nova Parts', 'Omega Systems'];
        const products = ['Gear Assembly', 'Hydraulic Pump', 'Circuit Board', 'Valve System', 'Bearing Set', 'Sensor Module', 'Control Panel', 'Motor Unit', 'Cable Harness', 'Tool Kit', 'Frame Component', 'Seal Kit', 'Connector Set', 'Mounting Bracket', 'Wiring Loom'];
        
        const systems = [
            { id: 'crm', name: 'CRM', icon: 'contacts', color: '#8b5cf6', initialStatus: 'green', minAct: 150, maxAct: 220 },
            { id: 'erp', name: 'ERP', icon: 'account_tree', color: '#3b82f6', initialStatus: 'green', minAct: 80, maxAct: 120 },
            { id: 'oms', name: 'OMS', icon: 'shopping_cart', color: '#14b8a6', initialStatus: 'green', minAct: 45, maxAct: 65 },
            { id: 'qms', name: 'QMS', icon: 'verified', color: '#10b981', initialStatus: 'yellow', minAct: 30, maxAct: 45 },
            { id: 'mes', name: 'MES', icon: 'precision_manufacturing', color: '#f59e0b', initialStatus: 'green', minAct: 200, maxAct: 280 },
            { id: 'wms', name: 'WMS', icon: 'warehouse', color: '#6366f1', initialStatus: 'green', minAct: 120, maxAct: 160 },
            { id: 'automation', name: 'Automation', icon: 'smart_toy', color: '#ec4899', initialStatus: 'green', minAct: 25, maxAct: 40 },
            { id: 'analytics', name: 'Analytics', icon: 'analytics', color: '#06b6d4', initialStatus: 'green', minAct: 350, maxAct: 420 }
        ];

        const omsActivityTypes = [
            { type: 'order', templates: [
                'Quote QTE-{num} from {customer} converted to order',
                'Order ORD-{num} confirmed for {product}',
                'Order ORD-{num} shipped to {customer} via FedEx',
                'Delivery confirmed for Order ORD-{num}',
                'New quote QTE-{num} generated for {customer}'
            ] },
            { type: 'crm', templates: [
                'Deal with {customer} moved to Negotiation stage',
                'New lead added from {customer}',
                'Follow-up scheduled with {customer}'
            ] },
            { type: 'quality', templates: [
                'Quality check passed for LOT-{num}',
                'Non-conformance NC-{num} logged in {product}',
                'CAPA initiated for quality issue',
                'Return processed: Order ORD-{num} from {customer}',
                'Customer complaint logged for {product}',
                'Quality improvement: FPY increased to 94.8%'
            ] },
            { type: 'payment', templates: [
                'Payment ${num}k received from {customer}',
                'Invoice INV-{num} marked as paid'
            ] },
            { type: 'inventory', templates: [
                'Stock alert: {product} below reorder point',
                'Received {num} units of {product}'
            ] },
            { type: 'production', templates: [
                'Work order WO-{num} started',
                'Batch {num} completed',
                'Machine status: {num} running'
            ] }
        ];

        let systemStates = {};
        let activityItems = [];
        let maxFeedItems = 12;
        let pipelineCounts = {
            quoted: 12,
            confirmed: 24,
            progress: 18,
            shipped: 15,
            delivered: 42
        };
        
        // New metrics state
        let metricsState = {
            grossMargin: 34.2,
            dso: 28,
            throughput: 4.2,
            capacity: 82,
            fpy: 94.8,
            returns: 0.8,
            capitalCoverage: 94
        };
        
        // AI Insights messages pool
        const aiInsightsMessages = [
            'Top delay: Supplier X, +2 days lead time on Circuit Board components. Recommendation: Consider alternate supplier.',
            'Bottleneck detected: Machine Line 3 showing 15% slower cycle times. Schedule maintenance check.',
            'Inventory optimization: Component stock levels above optimal. Consider reducing order frequency.',
            'Quality trend: First pass yield improving 2% week-over-week. Keep current process parameters.',
            'Delivery alert: 3 orders approaching SLA deadline. Expedite through production queue.',
            'Capacity utilization at 82% - optimal range maintained. No immediate scaling needed.',
            'Supplier performance: Vendor Y consistently late. Evaluate alternative suppliers for next quarter.'
        ];

        // Initialize systems
        function initSystems() {
            const container = document.getElementById('systems-container');
            systems.forEach(sys => {
                const status = sys.initialStatus;
                const activity = Math.floor(Math.random() * (sys.maxAct - sys.minAct + 1)) + sys.minAct;
                const state = { status, activity, lastUpdate: new Date() };
                systemStates[sys.id] = state;
                
                const card = document.createElement('div');
                card.className = 'system-card';
                card.id = `system-${sys.id}`;
                card.innerHTML = `
                    <div class="system-header">
                        <span class="material-symbols-outlined" style="color:${sys.color}">${sys.icon}</span>
                        <span style="font-weight:600; font-size:14px;">${sys.name}</span>
                        <span class="status-dot ${status}" style="margin-left:auto;"></span>
                    </div>
                    <div class="activity-count" style="color:${sys.color}" id="act-${sys.id}">${activity}</div>
                    <div class="activity-label">activities</div>
                    <div class="last-action" id="last-${sys.id}">Just now</div>
                `;
                container.appendChild(card);
            });
        }

        // Generate random activity with OMS emphasis
        function generateActivity() {
            const typeObj = omsActivityTypes[Math.floor(Math.random() * omsActivityTypes.length)];
            const template = typeObj.templates[Math.floor(Math.random() * typeObj.templates.length)];
            
            let message = template
                .replace('{customer}', customers[Math.floor(Math.random() * customers.length)])
                .replace('{product}', products[Math.floor(Math.random() * products.length)])
                .replace('{num}', Math.floor(Math.random() * 9000) + 1000);
            
            return { type: typeObj.type, message };
        }

        // Add activity to feed
        function addActivityItem() {
            const feed = document.getElementById('activity-feed');
            const activity = generateActivity();
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            
            const item = document.createElement('div');
            item.className = `feed-item ${activity.type}`;
            item.innerHTML = `
                <div style="font-size:13px; color:#374151;">${activity.message}</div>
                <div class="feed-time">${timeStr}</div>
            `;
            
            feed.insertBefore(item, feed.firstChild);
            activityItems.unshift(item);
            
            // Remove old items
            while (activityItems.length > maxFeedItems) {
                const oldItem = activityItems.pop();
                oldItem.classList.add('removing');
                setTimeout(() => oldItem.remove(), 500);
            }

            // Update pipeline counts when order activity occurs
            if (activity.type === 'order') {
                updatePipelineAnimation();
            }
        }

        // Animate pipeline updates
        function updatePipelineAnimation() {
            const stages = ['quoted', 'confirmed', 'progress', 'shipped', 'delivered'];
            stages.forEach(stage => {
                const change = Math.floor(Math.random() * 5) - 2;
                pipelineCounts[stage] = Math.max(0, pipelineCounts[stage] + change);
                
                const countEl = document.getElementById(`count-${stage}`);
                const barEl = document.getElementById(`pipeline-${stage}`);
                if (countEl && barEl) {
                    countEl.textContent = pipelineCounts[stage];
                    const percent = Math.min(pipelineCounts[stage] * 3, 100);
                    barEl.style.height = percent + '%';
                }
            });
        }

        // Update system status
        function updateSystemStatus(systemId) {
            const system = systems.find(s => s.id === systemId);
            if (!system) return;
            
            const state = systemStates[systemId];
            const change = Math.floor(Math.random() * 5) - 2;
            state.activity = Math.max(system.minAct, Math.min(system.maxAct, state.activity + change));
            state.lastUpdate = new Date();
            
            document.getElementById(`act-${systemId}`).textContent = state.activity;
            document.getElementById(`last-${systemId}`).textContent = 'Just now';
            
            const card = document.getElementById(`system-${systemId}`);
            card.classList.add('active');
            setTimeout(() => card.classList.remove('active'), 2000);
        }

        // Update progress bar
        function updateProgressBar(barId, percentId, targetPercent) {
            const bar = document.getElementById(barId);
            const percent = document.getElementById(percentId);
            
            if (bar && percent) {
                bar.style.width = targetPercent + '%';
                percent.textContent = targetPercent + '%';
            }
        }

        // Random progress value with bounds
        function getRandomProgress(current, variance = 2, minVal = 0, maxVal = 100) {
            const change = (Math.random() - 0.5) * variance * 2;
            return Math.max(minVal, Math.min(maxVal, current + change));
        }

        // Update financial metrics
        function updateFinancialMetrics() {
            // Gross Margin with small variance
            const marginChange = (Math.random() - 0.5) * 0.4;
            metricsState.grossMargin = Math.max(32, Math.min(37, metricsState.grossMargin + marginChange));
            const marginEl = document.getElementById('metric-gross-margin');
            if (marginEl) {
                marginEl.textContent = metricsState.grossMargin.toFixed(1) + '%';
            }
            
            // DSO with small variance
            const dsoChange = Math.floor((Math.random() - 0.5) * 2);
            metricsState.dso = Math.max(25, Math.min(32, metricsState.dso + dsoChange));
            const dsoEl = document.getElementById('metric-dso');
            if (dsoEl) {
                dsoEl.textContent = metricsState.dso;
            }
        }
        
        // Update operational metrics
        function updateOperationalMetrics() {
            // Throughput Rate
            const throughputChange = (Math.random() - 0.5) * 0.2;
            metricsState.throughput = Math.max(3.8, Math.min(5.0, metricsState.throughput + throughputChange));
            const throughputEl = document.getElementById('metric-throughput');
            if (throughputEl) {
                throughputEl.textContent = metricsState.throughput.toFixed(1) + 'h';
            }
            
            // Capacity Utilization
            const capacityChange = Math.floor((Math.random() - 0.5) * 2);
            metricsState.capacity = Math.max(75, Math.min(88, metricsState.capacity + capacityChange));
            const capacityEl = document.getElementById('metric-capacity');
            if (capacityEl) {
                capacityEl.textContent = metricsState.capacity + '%';
            }
            
            // First Pass Yield
            const fpyChange = (Math.random() - 0.5) * 0.3;
            metricsState.fpy = Math.max(92, Math.min(97, metricsState.fpy + fpyChange));
            const fpyEl = document.getElementById('metric-fpy');
            if (fpyEl) {
                fpyEl.textContent = metricsState.fpy.toFixed(1) + '%';
            }
            
            // Return Rate
            const returnsChange = (Math.random() - 0.5) * 0.1;
            metricsState.returns = Math.max(0.5, Math.min(1.5, metricsState.returns + returnsChange));
            const returnsEl = document.getElementById('metric-returns');
            if (returnsEl) {
                returnsEl.textContent = metricsState.returns.toFixed(1) + '%';
            }
        }
        
        // Update Human Capital Pulse
        function updateCapitalPulse() {
            const coverageChange = Math.floor((Math.random() - 0.5) * 2);
            metricsState.capitalCoverage = Math.max(90, Math.min(98, metricsState.capitalCoverage + coverageChange));
            const coverageEl = document.getElementById('capital-coverage');
            if (coverageEl) {
                coverageEl.textContent = metricsState.capitalCoverage + '%';
            }
        }
        
        // Rotate AI Insights
        function rotateAIInsights() {
            const insightsEl = document.getElementById('ai-insights-text');
            if (insightsEl) {
                const randomMessage = aiInsightsMessages[Math.floor(Math.random() * aiInsightsMessages.length)];
                insightsEl.textContent = randomMessage;
            }
        }
        
        // Simulation loops
        function startSimulation() {
            // Activity feed updates
            setInterval(addActivityItem, 2000);
            addActivityItem();
            
            // System updates
            setInterval(() => {
                const randomSystem = systems[Math.floor(Math.random() * systems.length)];
                updateSystemStatus(randomSystem.id);
            }, 2500);
            
            // Pipeline animation
            setInterval(updatePipelineAnimation, 4000);
            
            // Financial metrics updates
            setInterval(updateFinancialMetrics, 12000);
            
            // Operational metrics updates
            setInterval(updateOperationalMetrics, 10000);
            
            // Human Capital Pulse updates
            setInterval(updateCapitalPulse, 15000);
            
            // AI Insights rotation
            setInterval(rotateAIInsights, 30000);
            
            // Progress bar updates
            let progressValues = {
                revenue: 73,
                orders: 68,
                quality: 94,
                delivery: 91
            };
            
            setInterval(() => {
                progressValues.revenue = getRandomProgress(progressValues.revenue, 0.5, 70, 100);
                updateProgressBar('progress-revenue', 'progress-revenue-percent', Math.min(100, progressValues.revenue));
            }, 8000);
            
            setInterval(() => {
                progressValues.orders = getRandomProgress(progressValues.orders, 1, 60, 100);
                updateProgressBar('progress-orders', 'progress-orders-percent', progressValues.orders);
            }, 7000);
            
            setInterval(() => {
                progressValues.quality = getRandomProgress(progressValues.quality, 0.3, 92, 98);
                updateProgressBar('progress-quality', 'progress-quality-percent', progressValues.quality);
            }, 9000);
            
            setInterval(() => {
                progressValues.delivery = getRandomProgress(progressValues.delivery, 0.5, 88, 98);
                updateProgressBar('progress-delivery', 'progress-delivery-percent', progressValues.delivery);
            }, 10000);
        }

        // Initialize on load
        initSystems();
        startSimulation();
    </script>
</body>
</html>
