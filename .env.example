# VSol Admin - Environment Configuration Guide
#
# This file documents all environment variables used across the application.
# Copy this file to create your own .env files in the appropriate locations.

# =============================================================================
# API SERVER CONFIGURATION (apps/api/.env)
# =============================================================================

# Server Configuration
PORT=2020                    # Port for the API server (default: 2020)
HOST=0.0.0.0                 # Host binding (0.0.0.0 = all interfaces)
NODE_ENV=development         # Environment: development | production

# Database Configuration
DATABASE_URL=file:./dev.db   # SQLite database path (relative to apps/api/)

# SQLCipher Encryption (Optional)
SQLCIPHER_ENABLED=false      # Set to 'true' to enable database encryption
                             # Requires encryption key in Windows Credential Manager

# JWT Authentication (REQUIRED)
JWT_SECRET=                  # Secure random string (min 32 chars)
                             # Generate: openssl rand -base64 32
                             # Or: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

JWT_REFRESH_SECRET=          # Optional: Separate secret for refresh tokens
                             # If not set, uses JWT_SECRET

# Settings Encryption (Optional)
SETTINGS_ENCRYPTION_KEY=     # 64 hex characters (32 bytes)
                             # Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
                             # Required for encrypting API keys in settings

# Email Service - Resend (Optional)
RESEND_KEY=                  # API key from https://resend.com/api-keys
RESEND_ADMIN_EMAIL=apmailbox@omnigo.com

# Time Doctor Integration (Optional)
TIME_DOCTOR_API_KEY=         # API key for Time Doctor integration
TIME_DOCTOR_BASE_URL=https://api2.timedoctor.com

# CORS Configuration
CORS_ORIGIN=                 # Comma-separated list of allowed origins
                             # Example: http://localhost:5173,https://portal.vsol.software
                             # Supports wildcards: *.ngrok.io
                             # Default: allows localhost, local IPs, ngrok domains

# =============================================================================
# WEB APP CONFIGURATION (apps/web/.env)
# =============================================================================

# API Configuration
VITE_API_URL=                # Backend API URL
                             # Local dev: http://localhost:2020/api (or leave blank for proxy)
                             # Production: https://api.portal.vsol.software/api
                             # ngrok: https://your-api-url.ngrok.io/api

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. Create apps/api/.env with at minimum:
#    PORT=2020
#    NODE_ENV=development
#    DATABASE_URL=file:./dev.db
#    JWT_SECRET=your-secure-random-string-here
#
# 2. Create apps/web/.env (optional for local dev):
#    # Leave empty to use Vite proxy, or set:
#    # VITE_API_URL=http://localhost:2020/api
#
# 3. For production deployment, update:
#    NODE_ENV=production
#    CORS_ORIGIN=https://portal.vsol.software
#    VITE_API_URL=https://api.portal.vsol.software/api
#
# 4. For ngrok testing:
#    CORS_ORIGIN=https://your-web-url.ngrok.io
#    VITE_API_URL=https://your-api-url.ngrok.io/api

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - Never commit .env files to version control
# - Use strong, randomly generated secrets for JWT_SECRET
# - Rotate JWT_SECRET periodically in production
# - Keep RESEND_KEY and other API keys secure
# - In production, store secrets in a secure vault or key management service
